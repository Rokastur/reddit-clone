<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="https://www.thymeleaf.org">

<div th:fragment="authentication">
    <div th:with="user =${#authentication.principal}">
        <div sec:authorize="isAuthenticated()">
            <p th:text="|Hello, ${user.username}|"></p>
            <form method="post" th:action="@{/logout}">
                <button th:text="logout" type="submit"></button>
            </form>
        </div>
        <div sec:authorize="isAnonymous()">
            <a th:href="@{login}" th:text="|sign in|"></a>
        </div>
    </div>
</div>


</html>